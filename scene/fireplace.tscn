[gd_scene load_steps=21 format=3 uid="uid://o40os8tevy7i"]

[ext_resource type="Script" uid="uid://blskqk86x2w5m" path="res://script/Fireplace.gd" id="1_q16f2"]
[ext_resource type="PackedScene" uid="uid://i0vl1yuuv1jt" path="res://scene/component/interactable_component.tscn" id="2_fdvmc"]
[ext_resource type="Texture2D" uid="uid://2i64sqku1s51" path="res://sprite/fireplace-Sheet.png" id="2_q16f2"]
[ext_resource type="PackedScene" uid="uid://dpbcmxljcfh3v" path="res://scene/component/tool_tip_activation_component.tscn" id="4_j8u3g"]
[ext_resource type="Theme" uid="uid://i8eh517uqjrl" path="res://scary_theme.tres" id="5_5cndn"]
[ext_resource type="AudioStream" uid="uid://cxw7ofm0526pc" path="res://audio/fire(loop).wav" id="5_ngobc"]
[ext_resource type="AudioStream" uid="uid://cgi0oocikxcq8" path="res://audio/burning.wav" id="6_ybq34"]

[sub_resource type="Gradient" id="Gradient_j8u3g"]
offsets = PackedFloat32Array(0, 0.825)
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_ngobc"]
gradient = SubResource("Gradient_j8u3g")
width = 300
height = 300
fill = 1
fill_from = Vector2(0.5, 0.5)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_j8u3g"]
polygon = PackedVector2Array(-14, -24, -14, 3, -2, 7, 7, 14, 14, 17, 14, -24)

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_q16f2"]
radius = 14.0
height = 48.0

[sub_resource type="Curve" id="Curve_fdvmc"]
_data = [Vector2(0, 1), 0.0, 0.0412526, 0, 0, Vector2(1, 0.0365853), -3.09181, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_q16f2"]
curve = SubResource("Curve_fdvmc")

[sub_resource type="Curve" id="Curve_j8u3g"]
_limits = [-30.0, 30.0, 0.0, 1.0]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.572993, 1.46342), -8.22515, -8.22515, 0, 0, Vector2(1, -21.9512), -187.758, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_ngobc"]
curve = SubResource("Curve_j8u3g")

[sub_resource type="Curve" id="Curve_ybq34"]
_data = [Vector2(0, 4), 0.0, 0.0, 0, 0, Vector2(1, 0.109756), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_5cndn"]
curve = SubResource("Curve_ybq34")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_fdvmc"]
particle_flag_disable_z = true
emission_shape = 1
emission_sphere_radius = 8.0
gravity = Vector3(0, -98, 0)
scale_curve = SubResource("CurveTexture_5cndn")
color = Color(1, 0.619608, 0, 1)
alpha_curve = SubResource("CurveTexture_q16f2")
emission_curve = SubResource("CurveTexture_ngobc")
turbulence_enabled = true
turbulence_noise_strength = 11.15
turbulence_noise_scale = 5.99

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fdvmc"]
size = Vector2(28, 45)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ngobc"]
size = Vector2(29, 48)

[node name="fireplace" type="RigidBody2D"]
collision_mask = 0
gravity_scale = 0.0
script = ExtResource("1_q16f2")

[node name="PointLight2D" type="PointLight2D" parent="."]
position = Vector2(-10, 12)
color = Color(0.729412, 0.6, 0.243137, 1)
energy = 0.71
shadow_enabled = true
shadow_color = Color(0, 0, 0, 1)
texture = SubResource("GradientTexture2D_ngobc")

[node name="LightOccluder2D" type="LightOccluder2D" parent="."]
occluder = SubResource("OccluderPolygon2D_j8u3g")

[node name="Sprite2D" type="Sprite2D" parent="."]
texture = ExtResource("2_q16f2")
hframes = 3
metadata/_edit_lock_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CapsuleShape2D_q16f2")

[node name="GPUParticles2D" type="GPUParticles2D" parent="."]
position = Vector2(-6, 9)
amount = 10
explosiveness = 0.15
process_material = SubResource("ParticleProcessMaterial_fdvmc")

[node name="interactable_component" parent="." instance=ExtResource("2_fdvmc")]

[node name="CollisionShape2D" type="CollisionShape2D" parent="interactable_component"]
visible = false
position = Vector2(0, 0.5)
shape = SubResource("RectangleShape2D_fdvmc")

[node name="tool_tip_activation_component" parent="." node_paths=PackedStringArray("tip") instance=ExtResource("4_j8u3g")]
tooltip = "Its bright"
tip = NodePath("tip")

[node name="Panel" type="Panel" parent="tool_tip_activation_component"]
offset_left = -39.0
offset_top = -36.0
offset_right = 15.0
offset_bottom = -19.0

[node name="tip" type="Label" parent="tool_tip_activation_component"]
offset_left = -77.0
offset_top = -33.0
offset_right = 56.0
offset_bottom = -10.0
theme = ExtResource("5_5cndn")
text = "It's dying"
horizontal_alignment = 1

[node name="CollisionShape2D" type="CollisionShape2D" parent="tool_tip_activation_component"]
position = Vector2(-0.5, 0)
shape = SubResource("RectangleShape2D_ngobc")

[node name="FuelBurnoutTimer" type="Timer" parent="."]
wait_time = 2.0
autostart = true

[node name="fire_sound" type="AudioStreamPlayer2D" parent="."]
position = Vector2(-6, 14)
stream = ExtResource("5_ngobc")
autoplay = true
max_distance = 150.0
attenuation = 3.36358
bus = &"Ambience"

[node name="burn_sound" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("6_ybq34")
bus = &"Sfx"

[connection signal="timeout" from="FuelBurnoutTimer" to="." method="_on_fuel_burnout_timer_timeout"]
